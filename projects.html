<!DOCTYPE html>
<html lang="en">

<head>

    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#c8102e">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Browse our portfolio of quality properties in Calamba, Laguna. Houses, lots, condominiums, and investment properties available for sale and rent.">
    <meta name="keywords"
        content="properties for sale Calamba, houses for sale Laguna, lots for sale Calamba, condos Laguna, real estate projects Philippines">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.calambaexpressive.com/projects.html">
    <meta property="og:title" content="Properties & Projects - Calamba Expressive Properties">
    <meta property="og:description"
        content="Explore our portfolio of quality properties in Calamba, Laguna. Find your perfect home or investment today.">
    <meta property="og:image" content="https://www.calambaexpressive.com/static/images/icon.jpg">

    <title>Properties & Projects in Calamba, Laguna | Houses, Lots & Condos for Sale</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Custom Styles -->
    <link rel="stylesheet" href="/static/css/modern-styles.css">
    <!-- Favicon -->
    <link rel="icon" href="/static/images/icon.jpg" type="image/x-icon">
    <style>
        .projects-container {
            padding: 40px 0;
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .project-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .project-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        }

        .project-image {
            width: 100%;
            height: 220px;
            object-fit: cover;
        }

        .project-image-wrapper {
            position: relative;
        }

        .project-content {
            padding: 20px;
        }

        .project-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #c8102e 0%, #a77846 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .project-location {
            color: #69707f;
            font-size: 0.95rem;
            margin-bottom: 15px;
        }

        .project-meta {
            display: flex;
            gap: 15px;
            color: #69707f;
            font-size: 0.9rem;
            flex-wrap: wrap;
        }

        .category-badge {
            position: absolute;
            top: 15px;
            right: 15px;

            background: linear-gradient(135deg, var(--primary-red) 0%, var(--warm-brown) 100%);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .filters-container {
            max-width: 100%;
            margin: 0 auto 20px;
        }

        .category-tabs {
            display: flex;
            gap: 0;
            border-bottom: 1px solid #dadce0;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .category-tab {
            padding: 12px 16px;
            font-size: 0.9rem;
            color: #5f6368;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
            transition: all 0.2s;
            background: none;
            border-top: none;
            border-left: none;
            border-right: none;
            font-weight: 500;
        }

        .category-tab:hover {
            color: #202124;
            background: rgba(0, 0, 0, 0.04);
        }

        .category-tab.active {
            color: transparent;
            background: linear-gradient(135deg, #c8102e 0%, #a77846 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            border-bottom: 3px solid;
            border-image: linear-gradient(135deg, #c8102e 0%, #a77846 100%) 1;
        }

        .search-container {
            max-width: 600px;
            margin: 0 auto;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px 15px 50px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
        }

        .search-icon {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: #69707f;
            font-size: 1.2rem;
        }

        .stats-bar {
            text-align: center;
            margin-bottom: 20px;
            color: #69707f;
            font-size: 0.95rem;
        }

        .stats-bar strong {
            background: linear-gradient(135deg, #c8102e 0%, #a77846 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ============================================
           SKELETON LOADING STYLES
           ============================================ */

        .skeleton-wrapper {
            display: block;
        }

        .skeleton {
            background: #e0e0e0;
            background-image: linear-gradient(90deg,
                    #e0e0e0 0px,
                    #f0f0f0 40px,
                    #e0e0e0 80px);
            background-size: 400px 100%;
            animation: shimmer 1.5s ease-in-out infinite;
        }

        @keyframes shimmer {
            0% {
                background-position: -400px 0;
            }

            100% {
                background-position: 400px 0;
            }
        }

        .skeleton-header {
            height: 50px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .skeleton-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .skeleton-tab {
            height: 40px;
            width: 80px;
            border-radius: 4px;
        }

        .skeleton-search {
            height: 50px;
            border-radius: 10px;
            margin-bottom: 20px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .skeleton-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .skeleton-image {
            width: 100%;
            height: 220px;
        }

        .skeleton-content {
            padding: 20px;
        }

        .skeleton-title {
            height: 28px;
            border-radius: 4px;
            margin-bottom: 10px;
            width: 80%;
        }

        .skeleton-location {
            height: 20px;
            border-radius: 4px;
            margin-bottom: 15px;
            width: 60%;
        }

        .skeleton-meta {
            height: 18px;
            border-radius: 4px;
            width: 40%;
        }

        .skeleton-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            height: 28px;
            width: 80px;
            border-radius: 20px;
        }

        .loading {
            display: none;
            /* Hide old loading spinner */
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #69707f;
        }

        .no-results i {
            font-size: 4rem;
            color: #e0e0e0;
            margin-bottom: 20px;
        }

        .no-results h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .filters-container {
                flex-direction: column;
            }

            .category-tabs {
                overflow-x: auto;
                padding-bottom: 5px;
            }

            .skeleton-tabs {
                overflow-x: auto;
                flex-wrap: nowrap;
            }
        }
    </style>
</head>

<body>
    <div id="navbar-container"></div>

    <main>
        <div class="container projects-container">
            <h1 class="section-title text-center">Our Projects</h1>
            <p class="section-subtitle text-center">Explore our portfolio of quality properties in Calamba, Laguna</p>

            <!-- Skeleton Loading for Filters -->
            <div id="skeleton-filters" class="filters-container skeleton-wrapper">
                <div class="skeleton-tabs">
                    <div class="skeleton skeleton-tab"></div>
                    <div class="skeleton skeleton-tab"></div>
                    <div class="skeleton skeleton-tab"></div>
                    <div class="skeleton skeleton-tab"></div>
                    <div class="skeleton skeleton-tab"></div>
                </div>
                <div class="skeleton skeleton-search"></div>
            </div>

            <!-- Actual Filters -->
            <div class="filters-container" id="actual-filters" style="display: none;">
                <!-- Category Tabs -->
                <div class="category-tabs" id="categoryTabs">
                    <button class="category-tab active" data-category="all" onclick="selectCategory('all')">
                        All
                    </button>
                    <!-- More tabs will be added by JavaScript -->
                </div>

                <!-- Search -->
                <div class="search-container">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" class="search-input" id="searchInput" placeholder="Search projects..."
                        onkeyup="filterProjects()">
                </div>
            </div>

            <!-- Stats Bar -->
            <div id="stats-bar" class="stats-bar" style="display: none;">
                Showing <strong id="visible-count">0</strong> of <strong id="total-count">0</strong> properties
            </div>

            <!-- Skeleton Loading for Projects Grid -->
            <div id="skeleton-grid" class="projects-grid skeleton-wrapper">
                <!-- Generate 6 skeleton cards -->
                <div class="skeleton-card">
                    <div class="project-image-wrapper">
                        <div class="skeleton skeleton-image"></div>
                        <div class="skeleton skeleton-badge"></div>
                    </div>
                    <div class="skeleton-content">
                        <div class="skeleton skeleton-title"></div>
                        <div class="skeleton skeleton-location"></div>
                        <div class="skeleton skeleton-meta"></div>
                    </div>
                </div>
                <div class="skeleton-card">
                    <div class="project-image-wrapper">
                        <div class="skeleton skeleton-image"></div>
                        <div class="skeleton skeleton-badge"></div>
                    </div>
                    <div class="skeleton-content">
                        <div class="skeleton skeleton-title"></div>
                        <div class="skeleton skeleton-location"></div>
                        <div class="skeleton skeleton-meta"></div>
                    </div>
                </div>
                <div class="skeleton-card">
                    <div class="project-image-wrapper">
                        <div class="skeleton skeleton-image"></div>
                        <div class="skeleton skeleton-badge"></div>
                    </div>
                    <div class="skeleton-content">
                        <div class="skeleton skeleton-title"></div>
                        <div class="skeleton skeleton-location"></div>
                        <div class="skeleton skeleton-meta"></div>
                    </div>
                </div>
                <div class="skeleton-card">
                    <div class="project-image-wrapper">
                        <div class="skeleton skeleton-image"></div>
                        <div class="skeleton skeleton-badge"></div>
                    </div>
                    <div class="skeleton-content">
                        <div class="skeleton skeleton-title"></div>
                        <div class="skeleton skeleton-location"></div>
                        <div class="skeleton skeleton-meta"></div>
                    </div>
                </div>
                <div class="skeleton-card">
                    <div class="project-image-wrapper">
                        <div class="skeleton skeleton-image"></div>
                        <div class="skeleton skeleton-badge"></div>
                    </div>
                    <div class="skeleton-content">
                        <div class="skeleton skeleton-title"></div>
                        <div class="skeleton skeleton-location"></div>
                        <div class="skeleton skeleton-meta"></div>
                    </div>
                </div>
                <div class="skeleton-card">
                    <div class="project-image-wrapper">
                        <div class="skeleton skeleton-image"></div>
                        <div class="skeleton skeleton-badge"></div>
                    </div>
                    <div class="skeleton-content">
                        <div class="skeleton skeleton-title"></div>
                        <div class="skeleton skeleton-location"></div>
                        <div class="skeleton skeleton-meta"></div>
                    </div>
                </div>
            </div>

            <!-- Actual Projects Grid -->
            <div id="projects-grid" class="projects-grid" style="display: none;">
                <!-- Cards populated by JavaScript -->
            </div>

            <!-- No Results -->
            <div id="no-results" class="no-results" style="display: none;">
                <i class="fas fa-search"></i>
                <h3>No properties found</h3>
                <p>Try adjusting your filters or search terms</p>
            </div>
        </div>
    </main>

    <div id="footer-container"></div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="/static/js/enhanced-modal.js"></script>

    <!-- Load Properties Data -->
    <script src="/static/js/properties.js?v=1763160344480"></script>

    <script>
        let allCards = [];
        let currentCategory = 'all';

        function selectCategory(category) {
            currentCategory = category;

            // Update active tab
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.classList.remove('active');
            });

            const activeTab = document.querySelector(`.category-tab[data-category="${category}"]`);
            if (activeTab) {
                activeTab.classList.add('active');
            }

            filterProjects();
        }

        function loadProjects() {
            const grid = document.getElementById('projects-grid');
            const skeletonGrid = document.getElementById('skeleton-grid');
            const skeletonFilters = document.getElementById('skeleton-filters');
            const actualFilters = document.getElementById('actual-filters');
            const categoryTabs = document.getElementById('categoryTabs');
            const categories = window.PROPERTY_DATA.categories || [];
            const projectsByCategory = window.PROPERTY_DATA.projectsByCategory;

            // Add all category tabs
            categories.forEach(category => {
                const tab = document.createElement('button');
                tab.className = 'category-tab';
                tab.setAttribute('data-category', category.id);
                tab.textContent = category.name;
                tab.onclick = () => selectCategory(category.id);
                categoryTabs.appendChild(tab);
            });

            // Simulate loading delay to show skeleton
            setTimeout(() => {
                // Hide skeletons
                skeletonGrid.style.display = 'none';
                skeletonFilters.style.display = 'none';

                // Show actual content
                grid.style.display = 'grid';
                actualFilters.style.display = 'block';
                document.getElementById('stats-bar').style.display = 'block';

                let totalProjects = 0;

                // Loop through each category
                for (let category in projectsByCategory) {
                    const projects = projectsByCategory[category];
                    const categoryName = window.PROPERTY_DATA.getCategoryName(category);

                    // Loop through each project in the category
                    for (let id in projects) {
                        const project = projects[id];
                        if (!project.images || project.images.length === 0) continue;

                        const firstImage = window.PROPERTY_DATA.basePath + category + '/' + project.folder + '/' + project.images[0];

                        const card = document.createElement('div');
                        card.className = 'project-card';
                        card.setAttribute('data-name', project.name.toLowerCase());
                        card.setAttribute('data-location', project.location.toLowerCase());
                        card.setAttribute('data-category', category);
                        card.onclick = () => window.location.href = `/property.html?category=${category}&id=${id}`;

                        card.innerHTML = `
                            <div class="project-image-wrapper">
                                <img src="${firstImage}" alt="${project.name}" class="project-image">
                                <div class="category-badge">${categoryName}</div>
                            </div>
                            <div class="project-content">
                                <strong class="project-title">${project.name}</strong>
                                <div class="project-location">
                                    <i class="fas fa-map-marker-alt"></i> ${project.location}
                                </div>
                                <div class="project-meta">
                                    <span><i class="fas fa-images"></i> ${project.images.length} photo${project.images.length !== 1 ? 's' : ''}</span>
                                </div>
                            </div>
                        `;

                        grid.appendChild(card);
                        allCards.push(card);
                        totalProjects++;
                    }
                }

                updateStats();
                console.log(`âœ… Loaded ${totalProjects} projects across ${Object.keys(projectsByCategory).length} categories`);
            }, 800); // 800ms delay to show skeleton loading
        }

        function filterProjects() {
            const searchInput = document.getElementById('searchInput').value.toLowerCase();

            let visibleCount = 0;

            allCards.forEach(card => {
                const name = card.getAttribute('data-name');
                const location = card.getAttribute('data-location');
                const category = card.getAttribute('data-category');

                const matchesSearch = name.includes(searchInput) || location.includes(searchInput);
                const matchesCategory = currentCategory === 'all' || category === currentCategory;

                if (matchesSearch && matchesCategory) {
                    card.style.display = 'block';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });

            // Show/hide no results message
            const noResults = document.getElementById('no-results');
            const grid = document.getElementById('projects-grid');

            if (visibleCount === 0) {
                grid.style.display = 'none';
                noResults.style.display = 'block';
            } else {
                grid.style.display = 'grid';
                noResults.style.display = 'none';
            }

            updateStats();
        }

        function updateStats() {
            const visibleCards = allCards.filter(card => card.style.display !== 'none');
            document.getElementById('visible-count').textContent = visibleCards.length;
            document.getElementById('total-count').textContent = allCards.length;
        }

        document.addEventListener('DOMContentLoaded', loadProjects);
    </script>
    <script src="/static/js/navbar.js"></script>
    <script src="/static/js/footer.js"></script>
</body>

</html>